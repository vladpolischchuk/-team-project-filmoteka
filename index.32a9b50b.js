const e={openModalBtn:document.querySelectorAll("[data-film-modal-open]"),closeModalBtn:document.querySelector("[data-film-modal-close]"),modal:document.querySelector("[data-film-modal]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.forEach((e=>{e.addEventListener("click",t)})),e.closeModalBtn.addEventListener("click",t),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t()}));async function n(e=1){return await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=cf961b1b89f4c4a28558be2b04fdd59a&page=${e}`).then((e=>{if(!e.ok)throw new Error("Network response was not OK");return e.json()})).then((e=>e.results)).catch((e=>{console.error("There has been a problem with your fetch operation:",e)}))}const o={movieList:document.querySelector(".home")};(async function(){return await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=cf961b1b89f4c4a28558be2b04fdd59a").then((e=>{if(!e.ok)throw new Error("Network response was not OK");return e.json()})).then((e=>e.genres)).catch((e=>{console.error("There has been a problem with your fetch operation:",e)}))})().then((e=>{n(1).then((t=>{let n=function(e,t){if(0===e.length)return;return e.map((({title:e,poster_path:n,release_date:o,genre_ids:r})=>{let a=o.slice(0,4),s=[];for(let e of r){let n=t.find((({id:t})=>t===e));s.push(n.name)}return s.length>=3&&(s=[s[0],s[1],"Other"]),`<li class="card">\n  <a href="" class="card-link link">\n    <img class="card-img" src="https://image.tmdb.org/t/p/w500${n}" alt="${e}">\n    <h3 class="card-name">${e}</h3>\n    <div class="card-item">\n      <p class="card-genres">${s.join(", ")}</p>\n      <p class="card-year"><span class="card-line">|</span>${a}</p>\n    </div>\n  </a>\n</li>`})).join("")}(t,e);o.movieList.insertAdjacentHTML("beforeend",n)}))}));
//# sourceMappingURL=index.32a9b50b.js.map
